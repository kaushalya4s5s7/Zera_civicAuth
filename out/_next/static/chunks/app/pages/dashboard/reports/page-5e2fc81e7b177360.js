(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[530],{381:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(19946).A)("settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},5040:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(19946).A)("book-open",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]])},5196:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(19946).A)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},13052:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(19946).A)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},23861:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(19946).A)("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]])},33786:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(19946).A)("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]])},42355:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(19946).A)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])},51043:(e,t,a)=>{Promise.resolve().then(a.bind(a,91406))},57340:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(19946).A)("house",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]])},57434:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(19946).A)("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},65453:(e,t,a)=>{"use strict";a.d(t,{v:()=>c});var s=a(12115);let r=e=>{let t,a=new Set,s=(e,s)=>{let r="function"==typeof e?e(t):e;if(!Object.is(r,t)){let e=t;t=(null!=s?s:"object"!=typeof r||null===r)?r:Object.assign({},t,r),a.forEach(a=>a(t,e))}},r=()=>t,n={setState:s,getState:r,getInitialState:()=>i,subscribe:e=>(a.add(e),()=>a.delete(e))},i=t=e(s,r,n);return n},n=e=>e?r(e):r,i=e=>e,l=e=>{let t=n(e),a=e=>(function(e,t=i){let a=s.useSyncExternalStore(e.subscribe,()=>t(e.getState()),()=>t(e.getInitialState()));return s.useDebugValue(a),a})(t,e);return Object.assign(a,t),a},c=e=>e?l(e):l},66474:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(19946).A)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},71007:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(19946).A)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},72111:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(19946).A)("flask-conical",[["path",{d:"M14 2v6a2 2 0 0 0 .245.96l5.51 10.08A2 2 0 0 1 18 22H6a2 2 0 0 1-1.755-2.96l5.51-10.08A2 2 0 0 0 10 8V2",key:"18mbvz"}],["path",{d:"M6.453 15h11.094",key:"3shlmq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}]])},91406:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>v});var s=a(95155),r=a(83866),n=a(12115),i=a(5219),l=a(11681),c=a(47924);let o=(0,a(19946).A)("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]);var d=a(33786),u=a(5196),h=a(42355),p=a(13052),m=a(87481);let y={BNB:{chainId:56,name:"BNB Chain",contractAddress:"0x311799344e53106315cbDe72649d7eD8De9A1bfA",explorer:"https://bscscan.com"}},x={BNB:y.BNB.contractAddress},g=[{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"contractHash",type:"bytes32"},{indexed:!1,internalType:"uint8",name:"stars",type:"uint8"},{indexed:!1,internalType:"string",name:"summary",type:"string"},{indexed:!0,internalType:"address",name:"auditor",type:"address"},{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"}],name:"AuditRegistered",type:"event"},{inputs:[{internalType:"bytes32",name:"contractHash",type:"bytes32"},{internalType:"uint8",name:"stars",type:"uint8"},{internalType:"string",name:"summary",type:"string"}],name:"registerAudit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"startIndex",type:"uint256"},{internalType:"uint256",name:"limit",type:"uint256"}],name:"getAllAudits",outputs:[{internalType:"bytes32[]",name:"contractHashes",type:"bytes32[]"},{internalType:"uint8[]",name:"stars",type:"uint8[]"},{internalType:"string[]",name:"summaries",type:"string[]"},{internalType:"address[]",name:"auditors",type:"address[]"},{internalType:"uint256[]",name:"timestamps",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"auditor",type:"address"}],name:"getAuditorHistory",outputs:[{internalType:"bytes32[]",name:"",type:"bytes32[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"contractHash",type:"bytes32"}],name:"getContractAudits",outputs:[{components:[{internalType:"uint8",name:"stars",type:"uint8"},{internalType:"string",name:"summary",type:"string"},{internalType:"address",name:"auditor",type:"address"},{internalType:"uint256",name:"timestamp",type:"uint256"}],internalType:"struct AuditRegistry.AuditEntry[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"index",type:"uint256"}],name:"getContractHashByIndex",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"contractHash",type:"bytes32"}],name:"getLatestAudit",outputs:[{components:[{internalType:"uint8",name:"stars",type:"uint8"},{internalType:"string",name:"summary",type:"string"},{internalType:"address",name:"auditor",type:"address"},{internalType:"uint256",name:"timestamp",type:"uint256"}],internalType:"struct AuditRegistry.AuditEntry",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[],name:"getTotalContracts",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}];var b=a(94083);let w=e=>{let{className:t}=e,[a,r]=(0,n.useState)(""),[w,v]=(0,n.useState)(1),[f,j]=(0,n.useState)(!1),[N,A]=(0,n.useState)(null),[k,C]=(0,n.useState)(null),[M,T]=(0,n.useState)({min:0,max:100}),{toast:S}=(0,m.dj)(),{contracts:H,setContracts:R}=(0,b.A)();(0,n.useEffect)(()=>{(async()=>{if(window.ethereum)try{let e=new i.k(window.ethereum);await e.send("eth_requestAccounts",[]);let t=await e.getNetwork();if(Number(t.chainId)!==y.BNB.chainId)return void S({title:"Wrong Network",description:"Please switch to BNB Mainnet",variant:"destructive"});let a=await e.getSigner(),s=x[t.name]||x.BNB;console.log("Network:",t.name),console.log("Contract Address:",s);let r=new l.NZ(s,g,a);try{let t=await e.getCode(s);if("0x"===t)throw Error("No contract deployed at this address");let a=await r.getTotalContracts(),n=[],i=Number(a);console.log("Total Contracts:",i);for(let e=0;e<i;e++)try{let t=await r.getContractHashByIndex(e),a=await r.getLatestAudit(t);console.log(a),n.push({id:e,name:"Contract ".concat(e),chain:"Ethereum",rating:20*Number(a.stars),auditor:a.auditor,date:new Date(1e3*Number(a.timestamp)).toLocaleDateString()})}catch(t){console.error("Error fetching audit ".concat(e,":"),t);continue}R(n)}catch(e){console.error("Contract call error:",e),S({title:"Contract Error",description:"Failed to read from the smart contract. Please verify the contract address and network.",variant:"destructive"})}}catch(e){console.error("Provider/Signer error:",e),S({title:"Wallet Error",description:"Failed to connect to your wallet. Please check your connection and network.",variant:"destructive"})}else S({title:"No Wallet Detected",description:"Please install MetaMask or another Ethereum wallet.",variant:"destructive"})})()},[S]);let B=e=>e>=90?"bg-gradient-to-r from-secondary to-primary":e>=80?"bg-gradient-to-r from-cyan to-primary":e>=70?"bg-gradient-to-r from-orange to-primary":"bg-gradient-to-r from-red-500 to-orange",E=H.filter(e=>{let t=e.name.toLowerCase().includes(a.toLowerCase())||e.chain.toLowerCase().includes(a.toLowerCase())||e.auditor.toLowerCase().includes(a.toLowerCase()),s=!N||e.chain===N,r=!k||e.auditor===k,n=e.rating>=M.min&&e.rating<=M.max;return t&&s&&r&&n}),L=5*w,I=L-5,q=E.slice(I,L),z=e=>v(e),V=e=>{S({title:"Report Opened",description:"Viewing detailed report for contract #".concat(e)})},D=e=>{S({title:"Report Approved",description:"Contract #".concat(e," report has been approved"),variant:"default"})};return(0,s.jsxs)("div",{className:"bg-white/10 backdrop-blur border border-white/20 rounded-xl p-6 ".concat(t),children:[(0,s.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-6",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-white",children:"Contract Reports"}),(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 w-full md:w-auto",children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(c.A,{className:"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),(0,s.jsx)("input",{type:"text",placeholder:"Search contracts...",value:a,onChange:e=>r(e.target.value),className:"pl-10 pr-4 py-2 rounded-lg bg-white/5 border border-white/20 text-white placeholder:text-gray-400 focus:outline-none focus:ring-2 focus:ring-primary w-full sm:w-64"})]}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsxs)("button",{onClick:()=>j(!f),className:"px-4 py-2 rounded-lg bg-white/5 border border-white/20 text-white hover:bg-white/10 transition-colors flex items-center gap-2",children:[(0,s.jsx)(o,{className:"w-4 h-4"}),(0,s.jsx)("span",{children:"Filter"})]}),f&&(0,s.jsxs)("div",{className:"absolute right-0 mt-2 w-64 bg-slate-900-dark border border-white/20 rounded-lg p-4 z-10",children:[(0,s.jsx)("h4",{className:"text-sm font-medium text-white mb-3",children:"Filter Reports"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs text-gray-400 mb-1",children:"Chain"}),(0,s.jsx)("select",{className:"w-full bg-white/5 border border-white/20 text-white rounded-md px-3 py-1.5",value:N||"",onChange:e=>A(e.target.value||null),children:(0,s.jsx)("option",{value:"",children:"All Chains"})})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs text-gray-400 mb-1",children:"Auditor"}),(0,s.jsx)("select",{className:"w-full bg-white/5 border border-white/20 text-white rounded-md px-3 py-1.5",value:k||"",onChange:e=>C(e.target.value||null),children:(0,s.jsx)("option",{value:"",children:"All Auditors"})})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"block text-xs text-gray-400 mb-1",children:["Rating Range: ",M.min," - ",M.max]}),(0,s.jsx)("input",{type:"range",min:"0",max:"100",value:M.min,onChange:e=>T({...M,min:parseInt(e.target.value)}),className:"w-full h-2 bg-white/10 rounded-lg appearance-none cursor-pointer"}),(0,s.jsx)("input",{type:"range",min:"0",max:"100",value:M.max,onChange:e=>T({...M,max:parseInt(e.target.value)}),className:"w-full h-2 bg-white/10 rounded-lg appearance-none cursor-pointer"})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("button",{onClick:()=>{A(null),C(null),T({min:0,max:100}),j(!1),S({title:"Filters Reset",description:"All report filters have been cleared"})},className:"px-3 py-1 text-xs text-red-400 hover:text-red-300",children:"Reset Filters"}),(0,s.jsx)("button",{onClick:()=>j(!1),className:"px-3 py-1 text-xs bg-primary text-white rounded",children:"Apply"})]})]})]})]})]})]}),(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"w-full text-sm text-left text-gray-300",children:[(0,s.jsx)("thead",{className:"text-xs uppercase bg-white/5 text-gray-400",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-6 py-3 rounded-tl-lg",children:"Contract"}),(0,s.jsx)("th",{className:"px-6 py-3",children:"Chain"}),(0,s.jsx)("th",{className:"px-6 py-3",children:"Rating"}),(0,s.jsx)("th",{className:"px-6 py-3",children:"Auditor"}),(0,s.jsx)("th",{className:"px-6 py-3",children:"Date"}),(0,s.jsx)("th",{className:"px-6 py-3 rounded-tr-lg",children:"Actions"})]})}),(0,s.jsx)("tbody",{children:q.length>0?q.map((e,t)=>(0,s.jsxs)("tr",{className:"border-b ".concat(t===q.length-1?"":"border-white/10"," hover:bg-white/5"),children:[(0,s.jsx)("td",{className:"px-6 py-4 font-medium text-white",children:e.name}),(0,s.jsx)("td",{className:"px-6 py-4",children:e.chain}),(0,s.jsx)("td",{className:"px-6 py-4",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"w-16 h-2 rounded-full bg-white/10",children:(0,s.jsx)("div",{className:"h-2 rounded-full ".concat(B(e.rating)),style:{width:"".concat(e.rating,"%")}})}),(0,s.jsxs)("span",{children:[e.rating,"%"]})]})}),(0,s.jsx)("td",{className:"px-6 py-4",children:e.auditor}),(0,s.jsx)("td",{className:"px-6 py-4",children:e.date}),(0,s.jsx)("td",{className:"px-6 py-4",children:(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)("button",{onClick:()=>V(e.id),className:"p-1.5 rounded-lg bg-primary/10 text-primary hover:bg-primary/20 transition-colors",children:(0,s.jsx)(d.A,{className:"w-4 h-4"})}),(0,s.jsx)("button",{onClick:()=>D(e.id),className:"p-1.5 rounded-lg bg-primary/10 text-primary hover:bg-primary/20 transition-colors",children:(0,s.jsx)(u.A,{className:"w-4 h-4"})})]})})]},e.id)):(0,s.jsx)("tr",{children:(0,s.jsx)("td",{colSpan:6,className:"px-6 py-8 text-center text-gray-400",children:"No reports match your search criteria"})})})]})}),E.length>0&&(0,s.jsxs)("div",{className:"flex items-center justify-between mt-6",children:[(0,s.jsxs)("div",{className:"text-sm text-gray-400",children:["Showing ",I+1," to"," ",Math.min(L,E.length)," of"," ",E.length," entries"]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)("button",{onClick:()=>z(Math.max(w-1,1)),disabled:1===w,className:"p-2 rounded-lg ".concat(1===w?"text-gray-600 cursor-not-allowed":"text-gray-400 hover:bg-white/10 hover:text-white"),children:(0,s.jsx)(h.A,{className:"w-4 h-4"})}),Array.from({length:Math.ceil(E.length/5)}).map((e,t)=>(0,s.jsx)("button",{onClick:()=>z(t+1),className:"w-8 h-8 rounded-lg ".concat(w===t+1?"bg-primary text-white":"text-gray-400 hover:bg-white/10 hover:text-white"),children:t+1},t)),(0,s.jsx)("button",{onClick:()=>z(Math.min(w+1,Math.ceil(E.length/5))),disabled:w===Math.ceil(E.length/5),className:"p-2 rounded-lg ".concat(w===Math.ceil(E.length/5)?"text-gray-600 cursor-not-allowed":"text-gray-400 hover:bg-white/10 hover:text-white"),children:(0,s.jsx)(p.A,{className:"w-4 h-4"})})]})]})]})},v=()=>(0,s.jsxs)(r.A,{children:[(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-white mb-1",children:"Reports"}),(0,s.jsx)("p",{className:"text-gray-300",children:"View and analyze your contract audit reports"})]}),(0,s.jsx)("div",{className:"grid grid-cols-1 gap-6",children:(0,s.jsx)(w,{})})]})},94083:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(65453).v)()(e=>({auditScore:0,auditReport:"",contracts:[],contractHash:"",issues:[],issueCount:{critical:0,high:0,medium:0,low:0,info:0},isLocked:!0,setContracts:t=>e({contracts:t}),setAuditScore:t=>e({auditScore:t}),setAuditReport:t=>e({auditReport:t}),setContractHash:t=>e({contractHash:t}),setIssues:t=>e({issues:t}),setIssueCount:t=>e({issueCount:t}),setIsLocked:t=>e({isLocked:t}),resetAuditState:()=>e({auditScore:0,auditReport:"",contractHash:"",contracts:[],issues:[],issueCount:{critical:0,high:0,medium:0,low:0,info:0},isLocked:!0})}))}},e=>{var t=t=>e(e.s=t);e.O(0,[110,371,219,866,441,684,358],()=>t(51043)),_N_E=e.O()}]);